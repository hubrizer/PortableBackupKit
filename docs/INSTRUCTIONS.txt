Step-by-Step Setup
==================

1. Extract or copy the **PortableBackupKit** folder to any local drive.
   â””â”€ Verify it contains:
        â€¢ rclone.exe
        â€¢ setup.ps1
        â€¢ (this file)

2. Launch Windows PowerShell *in that same folder*:
   â€¢ Shift-right-click in Explorer â†’ â€œOpen PowerShell window hereâ€
   â€¢ OR open Windows Terminal and `cd` to the folder.

3. Temporarily relax script signing for this session only:

        Set-ExecutionPolicy -Scope Process Bypass -Force

WPX.NET: create an SFTP user
----------------------------
If you host on WPX.NET you will need an SFTP login for the backup kit.

1. Sign in at `my.wpx.net` and open **Manage Service** for your site.
2. Go to **SFTP/FTP Users** and click **Add new user**.
3. Choose a username, password and root path (e.g. `/public_html`).
4. Save the user and remember that WPX uses SFTP port `2222`.

4. Run the setup wizard:

        .\setup.ps1

5. Follow the prompts:
   â€¢ **SFTP server** â€“ e.g. `s20.wpxhosting.com`
   â€¢ **Port**        â€“ 22 (default) or 2222 for WPX
   â€¢ **Username**    â€“ your SFTP login
   â€¢ **Password**    â€“ typed invisibly
     (the wizard re-prompts if server, user or password are blank)
     *Credentials are tested before continuing*
     (spaces and special characters are supported)
   â€¢ **Remote source path** â€“ `/` for entire account or `/public_html`\
     *(press Enter for `/`)*
   â€¢ **Local destination folder** â€“ e.g. `D:\Backups\MySite`\
     *(must be a valid local path and cannot be blank; the wizard re-prompts until valid)*
   â€¢ **Schedule**    â€“ choose:
       1 = daily at HH:MM
       2 = every N hours
       3 = weekly on specific days
   â€¢ **Time/Interval** â€“ depends on option above
   â€¢ **Retention days** â€“ how long to keep snapshots (7â€“30)
   â€¢ **Brevo sender name** â€“ display name for e-mails [Backup Bot]

6. When the wizard finishes it reports:
   â€¢ Settings saved to rclone.conf
   â€¢ Task â€œPortable Rclone Incremental Backupâ€ registered

7. Confirm the first run (optional):

        powershell -ExecutionPolicy Bypass -File .\backup.ps1

   Watch rclone copy the initial data; subsequent runs transfer only changes.

Files & Folders Created
-----------------------
PortableBackupKit\
â”‚   rclone.exe
â”‚   setup.ps1
â”‚   backup.ps1        â† job script
â”‚   rclone.conf       â† encrypted credentials & settings
â”‚   README.txt / INSTRUCTIONS.txt
â””â”€â”€ <your-chosen-destination>\
    â”œâ”€ current\        â† live mirror of SFTP source
    â””â”€ archive\YYYY-MM-DD_HHMMSS\  â† snapshots (auto-pruned)

Adjusting Retention
-------------------
Open **rclone.conf** and edit the `[backup]` section:

    RetentionDays = 7

Change the value to any integer up to 30. Snapshots older than that many days are deleted each run.

Changing Schedule Later
-----------------------
Run **setup.ps1** again; it overwrites the Task Scheduler trigger and
updates rclone.conf but keeps existing credentials.

Troubleshooting
---------------
â€¢ Log file lives next to *archive\â€¦* as `backup.log`.
â€¢ Task Scheduler â†’ â€œTask Scheduler Libraryâ€ â†’ find the job â†’ *History* tab
  shows last run/next run and exit codes.
â€¢ If valid credentials are repeatedly rejected, update the scripts and retry â€“
  the login check now uses an obscured password.
â€¢ If storage fills, prune archive or move the destination folder.

Need a full restore?
--------------------
1. Copy the desired snapshot folder over *current* (or pull single files).  
2. Run `backup.ps1` to re-sync the restored content to the SFTP server.

Enjoy safe, incremental backups!  ğŸ™‚